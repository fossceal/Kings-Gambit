<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>King's Gambit â€” Quiz</title>
  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/participant.css">
  <link rel="stylesheet" href="css/leaderboard.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

  <!-- Floating Preview Button -->
  <a href="preview.html" target="_blank" class="previewBtn" id="floatPreview">
    <i class="fa-solid fa-eye"></i> Preview
  </a> <!-- Quiz Screen -->
  <div id="quizContainer">

    <!-- HUD -->
    <div class="topBar">
      <div class="timerBox" id="timerContainer">
        <span id="timerLabel">TIME</span>
        <span id="timerValue">--</span>
      </div>

      <button class="rulesBtn" onclick="showRules()">
        <i class="fa-solid fa-circle-info"></i> RULES
      </button>

      <div id="myScoreCard">
        <span id="myTeamName"><i class="fa-solid fa-users"></i> Team</span>
        <span id="myTeamScore">0</span>
      </div>
    </div> <!-- Question & Answer -->
    <div class="quizDisplay">
      <h1 class="quizQ"></h1>
      <div class="quizDivider"></div>
      <h2 class="quizA"></h2> <!-- MCQ Options (shown by OP button) -->
      <div class="optionsGrid" id="optionsGrid">
        <button class="optionBtn" id="opt0" onclick="selectOption(0)">
          <span class="optionLetter">A</span>
          <span class="optionText"></span>
        </button>
        <button class="optionBtn" id="opt1" onclick="selectOption(1)">
          <span class="optionLetter">B</span>
          <span class="optionText"></span>
        </button>
        <button class="optionBtn" id="opt2" onclick="selectOption(2)">
          <span class="optionLetter">C</span>
          <span class="optionText"></span>
        </button>
        <button class="optionBtn" id="opt3" onclick="selectOption(3)">
          <span class="optionLetter">D</span>
          <span class="optionText"></span>
        </button>
      </div>
    </div> <!-- Feedback Overlay -->
    <div id="feedbackOverlay">
      <div class="feedbackBadge" id="feedbackBadge"></div>
    </div>

  </div> <!-- Game Frozen Overlay -->
  <div id="freezeOverlay" style="display:none;">
    <i class="fa-solid fa-snowflake"></i>
    <h1>GAME PAUSED</h1>
    <p id="freezeMsg">The administrator has paused the game.</p>
  </div> <!-- Announcement Overlay -->
  <div id="annOverlay" class="announcement-overlay" style="display:none;">
    <div class="announcement-card">
      <div class="announcement-label">Announcement</div>
      <div class="announcement-icon"><i class="fa-solid fa-bullhorn"></i></div>
      <div id="annOverlayText" class="announcement-text"></div>
    </div>
  </div>
  </div> <!-- Leaderboard Global Overlay -->
  <div id="lbOverlay" class="announcement-overlay" style="display:none; flex-direction: column;">
    <div class="lb-header" style="margin-top: 40px; transform: scale(0.8);">
      <div class="logo"><i class="fa-solid fa-chess-pawn"></i></div>
      <h1>LEADERBOARD</h1>
    </div>
    <div id="lbOverlayContent" style="width: 100%; max-width: 600px; padding: 20px; overflow-y: auto;">
      <!-- Populated by JS -->
    </div>
  </div> <!-- Rules Modal -->
  <div id="rulesModal" class="announcement-overlay" style="display:none; z-index: 10001;">
    <div class="announcement-card" style="max-width: 500px; text-align: left;">
      <div class="announcement-label">Quiz Rules & Protocol</div>
      <div class="announcement-icon" style="color: #ffcc00;"><i class="fa-solid fa-scroll"></i></div>
      <div class="announcement-text" style="font-size: 0.95rem; line-height: 1.6;">
        <ul style="margin: 0; padding-left: 20px;">
          <li>Once the quiz starts, your focus must remain on this tab.</li>
          <li style="color: #ff6b6b; font-weight: 800; margin-top: 10px;">
            <i class="fa-solid fa-triangle-exclamation"></i> VIOLATION POLICY:
          </li>
          <li style="margin-left: 10px;">Minimizing the browser is <strong>STRICTLY PROHIBITED</strong>.</li>
          <li style="margin-left: 10px;">Switching to other tabs/windows is <strong>RECORDED</strong>.</li>
          <li style="margin-left: 10px;">Any attempt to leave this view is instantly logged and reported to the
            administrator.</li>
          <li style="margin-top: 10px;">Ensure your device is charged and notifications are silenced.</li>
        </ul>
        <button class="optionBtn" onclick="closeRules()"
          style="margin-top: 25px; opacity: 1; pointer-events: auto; transform: none; width: 100%; border-color: #ffcc00; color: #ffcc00;">
          UNDERSTOOD
        </button>
      </div>
    </div>
  </div>
  <footer class="site-footer">
    &copy; <span id="footerYear"></span> TRAIN 303. ALL RIGHTS RESERVED.
  </footer>
  <script>document.getElementById('footerYear').innerText = new Date().getFullYear();</script>
  <script src="js/modals.js"></script>
  <script src="js/participant.js"></script>
</body>

</html>